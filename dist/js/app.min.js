var app={tableView:{tableItems:[],selectedTableItems:[],page:1,count:10,filterType:"Location",initTableView:function(){this.initSearch(),this.initTables(),this.initSubmitForm()},initSearch:function(){this.clearSearchAll(),this.clearSearch()},clearSearchAll:function(){$("#clear_search").on("click",function(){$(".search__wrapper .search__item").remove()})},clearSearch:function(){$(".search__item .close-item").on("click",function(){$(this).closest(".search__item").remove()})},initTables:function(){this.tableItemGenerator(),this.pageNavigation(),this.clearSelectedItem(),this.changePageCount()},tableItemGenerator:function(){for(var e=0;e<35;e++)this.tableItems.push({name:"Profile "+(e+1),type:"Location",idNum:e+1,created:moment().format("DD/MM/YYYY H:mm A")});$("#total").html(this.tableItems.length),this.updateTableItems()},updateTableItems:function(){$(".table .table__item").remove();for(var e=this.count*(this.page-1),t=Math.min(this.tableItems.length,this.count*this.page),i=e;i<t;i++){var n=-1<this.selectedTableItems.findIndex(function(e){return e===i})?" checked":"",l=0<this.selectedTableItems.length?" d-none":"",s='<div class="table__item d-flex align-items-center">\n  <div class="flex-1">\n    <input type="checkbox" id="item'+i+'" class="css-checkbox"'+n+'/>\n    <label for="item'+i+'" class="css-label"></label>\n  </div>\n  <div class="flex-2">'+this.tableItems[i].name+'</div>\n  <div class="flex-2">'+this.tableItems[i].type+'</div>\n  <div class="flex-3">'+this.tableItems[i].idNum+'</div>\n  <div class="flex-4">'+this.tableItems[i].created+'</div>\n  <div class="flex-4 d-flex--end">\n    <button class="btn table__item__action view'+l+'">View</button>\n    <button class="btn table__item__action edit'+l+'">Edit</button>\n    <button class="btn table__item__action delete'+l+'" disabled>Delete</button>\n  </div>\n</div>';$(".table").append(s)}this.updateNavStatus(),this.tableItemSelect()},tableItemSelect:function(){var i=this;$(".table__item .css-checkbox").on("change",function(){var t=parseInt($(this).attr("id").substr(4));if(this.checked)i.selectedTableItems.push(t);else{var e=i.selectedTableItems.findIndex(function(e){return e===t});-1<e&&i.selectedTableItems.splice(e,1)}i.updateSelectedSection()})},pageNavigation:function(){var e=this;$(".page-nav").on("click",function(){"prev"===$(this).attr("id")?1<e.page&&(e.page-=1):e.page<Math.ceil(e.tableItems.length/e.count)&&(e.page+=1),e.updateTableItems()})},updateNavStatus:function(){1===this.page?$("#prev").addClass("disabled"):$("#prev").removeClass("disabled"),this.page===Math.ceil(this.tableItems.length/this.count)?$("#next").addClass("disabled"):$("#next").removeClass("disabled"),$("#count").html(Math.min(this.tableItems.length,this.count*this.page)-this.count*(this.page-1))},clearSelectedItem:function(){var e=this;$("#clear_selection").on("click",function(){e.selectedTableItems=[],e.updateTableItems(),e.updateSelectedSection()})},updateSelectedSection:function(){var e=this.selectedTableItems.length;0<e?($(".section__selected h2").html(e+" Selected"),$(".section__search").addClass("d-none"),$(".section__selected").removeClass("d-none"),$(".table__item__action").addClass("d-none"),$("#submit_form").addClass("d-none"),$("#filter_profiles").removeClass("d-none")):($(".section__search").removeClass("d-none"),$(".section__selected").addClass("d-none"),$(".table__item__action").removeClass("d-none"),$("#submit_form").removeClass("d-none"),$("#filter_profiles").addClass("d-none"))},changePageCount:function(){var t=this;$(".page-size__current").on("click",function(){$(this).addClass("active")}),$(".page-size__list__item").on("click",function(){var e=parseInt($(this).html());$("#current").html(e),t.count=e,t.page=1,t.updateTableItems(),$(".page-size__current").removeClass("active")}),document.addEventListener("mousedown",function(e){var t=e.target.className;t&&"string"==typeof t&&-1!==t.indexOf("page-size")||$(".page-size__current").removeClass("active")})},initSubmitForm:function(){this.toggleSubmitForm(),this.changeTab(),this.changeFilterType(),this.clearFilters(),this.updateFilter(),this.toggleEditProfile()},toggleSubmitForm:function(){var l=this;$("#submit_form, #show_profiles, #close_filter").on("click",function(){if($("#submit_form").toggleClass("active"),$(".modal--submit").toggleClass("d-none"),"show_profiles"===$(this).attr("id")){$(".search__wrapper .search__item").remove();for(var e="filter_"+l.filterType.toLowerCase(),t=$("#"+e+" .filter__item__input"),i=0;i<t.length;i++)if($(t[i]).val()){var n='<div class="search__item">\n  <span>'+$(t[i]).attr("name")+": "+$(t[i]).val()+'</span>\n  <a class="close-item">\n    <svg class="sprite-icon" role="img" aria-hidden="true">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite-inline.svg#close"></use>\n    </svg>\n  </a>\n</div>';$(".search__wrapper").append(n)}l.clearSearch()}})},changeTab:function(){$(".tab__list__item").on("click",function(){$(".tab__list__item").removeClass("active"),$(this).addClass("active"),$(".section__new-form").addClass("d-none"),$(".section__prev-forms").addClass("d-none"),$(".section__"+$(this).attr("id")).removeClass("d-none")})},changeFilterType:function(){var e=this;$(".option__list__item").on("click",function(){$(".option__list__item").removeClass("active"),$(this).addClass("active"),e.filterType=$(this).html(),$("#filter_type").html(e.filterType),$(".filter__list--sub").addClass("d-none"),$("#filter_"+e.filterType.toLowerCase()).removeClass("d-none")})},clearFilters:function(){$("#clear_option").on("click",function(){$(".filter__item").remove()})},updateFilter:function(){this.addFilter(),this.removeFilter()},addFilter:function(){var t=this;$("#add_filter").on("click",function(){var e;"Location"===t.filterType?(e='<div class="filter__item d-flex--between mb-2">\n  <div class="flex-1">\n    <input type="text" class="filter__item__input" name="Location" placeholder="Enter lat/long/radius">\n  </div>\n\n  <a class="close-item">\n    <svg class="sprite-icon" role="img" aria-hidden="true">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite-inline.svg#close"></use>\n    </svg>\n  </a>\n</div>',$("#filter_location").append(e)):"Persona"===t.filterType?(e='<div class="filter__item d-flex--between mb-2">\n  <div class="flex-1">\n    <input type="text" class="filter__item__input" name="Location" placeholder="Enter lat/long/radius">\n    <input type="text" class="filter__item__input" name="IP" placeholder="Enter ip address">\n    <input type="text" class="filter__item__input" name="Device" placeholder="Enter device make/model">\n    <input type="text" class="filter__item__input" name="Country" placeholder="Enter country">\n    <input type="text" class="filter__item__input" name="City" placeholder="Enter city">\n    <input type="text" class="filter__item__input" name="Language" placeholder="Enter language">\n  </div>\n\n  <a class="close-item">\n    <svg class="sprite-icon" role="img" aria-hidden="true">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite-inline.svg#close"></use>\n    </svg>\n  </a>\n</div>',$("#filter_persona").append(e)):"Network"===t.filterType&&(e='<div class="filter__item d-flex--between mb-2">\n  <div class="flex-1">\n    <input type="text" class="filter__item__input" name="ID" placeholder="Enter VK ID">\n  </div>\n\n  <a class="close-item">\n    <svg class="sprite-icon" role="img" aria-hidden="true">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite-inline.svg#close"></use>\n    </svg>\n  </a>\n</div>',$("#filter_network").append(e)),t.removeFilter()})},removeFilter:function(){$(".filter__item .close-item").on("click",function(){$(this).closest(".filter__item").remove()})},toggleEditProfile:function(){$(".edit-option > .btn--cancel").on("click",function(){$(this).toggleClass("active")}),$(".edit-option__popup .btn").on("click",function(){$(this).closest(".edit-option").find(".btn--cancel").removeClass("active")})}},mapView:{initMapView:function(){this.toggleSidebarContent(),this.togglePopups(),this.toggleMarker(),this.changeFilterValues(),this.toggleActorTable()},toggleSidebarContent:function(){$("aside .sidebar__menu__item").on("click",function(){$("aside .sidebar__menu__item").removeClass("active"),$(this).addClass("active"),$("aside .sidebar__content").addClass("d-none"),$("aside .sidebar__content--"+$(this).attr("id")).removeClass("d-none"),$(".container__content").addClass("d-none"),$(".container__content--"+$(this).attr("id")).removeClass("d-none")}),$("#show_map").on("click",function(){$("aside .sidebar__menu__item").removeClass("active"),$("#persona").addClass("active"),$("aside .sidebar__content").addClass("d-none"),$("aside .sidebar__content--persona").removeClass("d-none"),$(".container__content").addClass("d-none"),$(".container__content--persona").removeClass("d-none")})},togglePopups:function(){$("#export").on("click",function(){$(this).toggleClass("active"),$("#popup_export").toggleClass("d-none")}),["highlight","show","filter"].forEach(function(e){$("#"+e+", #apply_"+e+", #close_"+e).on("click",function(){$("#export").removeClass("active"),$("#popup_export").addClass("d-none"),$("#"+e).toggleClass("active"),$("#modal_"+e).toggleClass("d-none")})}),$(".modal").on("click",function(e){0===$(e.target).closest(".modal__content").length&&($(".modal").addClass("d-none"),$(".btn--submit").removeClass("active"))})},toggleMarker:function(){$(".popup--marker__close").on("click",function(){$(this).closest(".popup--marker").addClass("d-none")})},changeFilterValues:function(){$(".calc--minus").on("click",function(){var e=$(this).next();e.val(parseInt(e.val())-1)}),$(".calc--plus").on("click",function(){var e=$(this).prev();e.val(parseInt(e.val())+1)})},toggleActorTable:function(){$(".sidebar__card__actor").on("click",function(){$(".modal--table").removeClass("d-none")}),$(".modal--table__close").on("click",function(){$(".modal--table").addClass("d-none")})}},init:function(){0<$("#map").length?this.mapView.initMapView():this.tableView.initTableView(),this.toggleSelect(),this.toggleButton()},toggleSelect:function(){$(".custom-select__title").on("click",function(){$(this).closest(".custom-select").toggleClass("active")}),$(".custom-select__list .custom-select__item").on("click",function(){$(this).closest(".custom-select").toggleClass("active"),$(".custom-select__title .custom-select__item div").html($(this).find("div").html())})},toggleButton:function(){$(".btn--toggle").on("click",function(){$(this).hasClass("active")||($(this).addClass("active"),$(this).siblings().removeClass("active"))})}};function initMap(){var e={lat:40.674,lng:-73.945},t=new google.maps.Map(document.getElementById("map"),{center:e,zoom:12,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.LEFT_BOTTOM},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},scaleControl:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!1,fullscreenControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},styles:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#d8dee2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]}),i="img/",n={green:{icon:i+"marker.png"},blue:{icon:i+"marker1.png"}};[{position:new google.maps.LatLng(e.lat-.03,e.lng-.03),type:"green"},{position:new google.maps.LatLng(e.lat+.03,e.lng-.03),type:"blue"},{position:new google.maps.LatLng(e.lat-.03,e.lng+.03),type:"blue"},{position:new google.maps.LatLng(e.lat+.03,e.lng+.03),type:"green"}].forEach(function(e){new google.maps.Marker({position:e.position,icon:n[e.type].icon,map:t}).addListener("click",function(){$(".popup--marker").removeClass("d-none")})})}$(function(){app.init()});
//# sourceMappingURL=app.min.js.map
