var app={tableView:{tableItems:[],selectedTableItems:[],page:1,count:10,filterType:"Location"},mapView:{},init:function(){0<$("#map").length?this.initMapView():this.initTableView()},initTableView:function(){this.initSearch(),this.initTables(),this.initSubmitForm()},initSearch:function(){this.clearSearchAll(),this.clearSearch()},clearSearchAll:function(){$("#clear_search").on("click",function(){$(".search__wrapper .search__item").remove()})},clearSearch:function(){$(".search__item .close-item").on("click",function(){$(this).closest(".search__item").remove()})},initTables:function(){this.tableItemGenerator(),this.pageNavigation(),this.clearSelectedItem(),this.changePageCount()},tableItemGenerator:function(){for(var e=0;e<35;e++)this.tableView.tableItems.push({name:"Profile "+(e+1),type:"Location",idNum:e+1,created:moment().format("DD/MM/YYYY H:mm A")});$("#total").html(this.tableView.tableItems.length),this.updateTableItems()},updateTableItems:function(){$(".table .table__item").remove();for(var e=this.tableView.count*(this.tableView.page-1),t=Math.min(this.tableView.tableItems.length,this.tableView.count*this.tableView.page),i=e;i<t;i++){var n=-1<this.tableView.selectedTableItems.findIndex(function(e){return e===i})?" checked":"",a=0<this.tableView.selectedTableItems.length?" d-none":"",l='<div class="table__item d-flex--between">\n  <div class="flex-1">\n    <input type="checkbox" id="item'+i+'" class="css-checkbox"'+n+'/>\n    <label for="item'+i+'" class="css-label"></label>\n  </div>\n  <div class="flex-2">'+this.tableView.tableItems[i].name+'</div>\n  <div class="flex-2">'+this.tableView.tableItems[i].type+'</div>\n  <div class="flex-3">'+this.tableView.tableItems[i].idNum+'</div>\n  <div class="flex-4">'+this.tableView.tableItems[i].created+'</div>\n  <div class="flex-4 d-flex--end">\n    <button class="btn table__item__action view'+a+'">View</button>\n    <button class="btn table__item__action edit'+a+'">Edit</button>\n    <button class="btn table__item__action delete'+a+'" disabled>Delete</button>\n  </div>\n</div>';$(".table").append(l)}this.updateNavStatus(),this.tableItemSelect()},tableItemSelect:function(){var i=this;$(".table__item .css-checkbox").on("change",function(){var t=parseInt($(this).attr("id").substr(4));if(this.checked)i.tableView.selectedTableItems.push(t);else{var e=i.tableView.selectedTableItems.findIndex(function(e){return e===t});-1<e&&i.tableView.selectedTableItems.splice(e,1)}i.updateSelectedSection()})},pageNavigation:function(){var e=this;$(".page-nav").on("click",function(){"prev"===$(this).attr("id")?1<e.tableView.page&&(e.tableView.page-=1):e.tableView.page<Math.ceil(e.tableView.tableItems.length/e.tableView.count)&&(e.tableView.page+=1),e.updateTableItems()})},updateNavStatus:function(){1===this.tableView.page?$("#prev").addClass("disabled"):$("#prev").removeClass("disabled"),this.tableView.page===Math.ceil(this.tableView.tableItems.length/this.tableView.count)?$("#next").addClass("disabled"):$("#next").removeClass("disabled"),$("#count").html(Math.min(this.tableView.tableItems.length,this.tableView.count*this.tableView.page)-this.tableView.count*(this.tableView.page-1))},clearSelectedItem:function(){var e=this;$("#clear_selection").on("click",function(){e.tableView.selectedTableItems=[],e.updateTableItems(),e.updateSelectedSection()})},updateSelectedSection:function(){var e=this.tableView.selectedTableItems.length;0<e?($(".section__selected h2").html(e+" Selected"),$(".section__search").addClass("d-none"),$(".section__selected").removeClass("d-none"),$(".table__item__action").addClass("d-none"),$("#submit_form").addClass("d-none"),$("#filter_profiles").removeClass("d-none")):($(".section__search").removeClass("d-none"),$(".section__selected").addClass("d-none"),$(".table__item__action").removeClass("d-none"),$("#submit_form").removeClass("d-none"),$("#filter_profiles").addClass("d-none"))},changePageCount:function(){var t=this;$(".page-size__current").on("click",function(){$(this).addClass("active")}),$(".page-size__list__item").on("click",function(){var e=parseInt($(this).html());$("#current").html(e),t.tableView.count=e,t.tableView.page=1,t.updateTableItems(),$(".page-size__current").removeClass("active")}),document.addEventListener("mousedown",function(e){var t=e.target.className;t&&"string"==typeof t&&-1!==t.indexOf("page-size")||$(".page-size__current").removeClass("active")})},initSubmitForm:function(){this.toggleSubmitForm(),this.changeTab(),this.changeFilterType(),this.clearFilters(),this.updateFilter(),this.toggleEditProfile()},toggleSubmitForm:function(){var a=this;$("#submit_form").on("click",function(){$(this).toggleClass("active"),$(".modal--submit").toggleClass("d-none")}),$("#show_profiles").on("click",function(){$(".search__wrapper .search__item").remove();for(var e="filter_"+a.tableView.filterType.toLowerCase(),t=$("#"+e+" .filter__item__input"),i=0;i<t.length;i++)if($(t[i]).val()){var n='<div class="search__item">\n  <span>'+$(t[i]).attr("name")+": "+$(t[i]).val()+'</span>\n  <a class="close-item">\n    <svg class="sprite-icon" role="img" aria-hidden="true">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite-inline.svg#close"></use>\n    </svg>\n  </a>\n</div>';$(".search__wrapper").append(n)}a.clearSearch(),$("#submit_form").removeClass("active"),$(".modal--submit").addClass("d-none")}),$("#close_filter").on("click",function(){$("#submit_form").removeClass("active"),$(".modal--submit").addClass("d-none")})},changeTab:function(){$(".tab__list__item").on("click",function(){$(".tab__list__item").removeClass("active"),$(this).addClass("active"),$(".section__new-form").addClass("d-none"),$(".section__prev-forms").addClass("d-none"),$(".section__"+$(this).attr("id")).removeClass("d-none")})},changeFilterType:function(){var e=this;$(".option__list__item").on("click",function(){$(".option__list__item").removeClass("active"),$(this).addClass("active"),e.tableView.filterType=$(this).html(),$("#filter_type").html(e.tableView.filterType),$(".filter__list--sub").addClass("d-none"),$("#filter_"+e.tableView.filterType.toLowerCase()).removeClass("d-none")})},clearFilters:function(){$("#clear_option").on("click",function(){$(".filter__item").remove()})},updateFilter:function(){this.addFilter(),this.removeFilter()},addFilter:function(){var t=this;$("#add_filter").on("click",function(){var e;"Location"===t.tableView.filterType?(e='<div class="filter__item d-flex--between mb-2">\n  <div class="flex-1">\n    <input type="text" class="filter__item__input" name="Location" placeholder="Enter lat/long/radius">\n  </div>\n\n  <a class="close-item">\n    <svg class="sprite-icon" role="img" aria-hidden="true">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite-inline.svg#close"></use>\n    </svg>\n  </a>\n</div>',$("#filter_location").append(e)):"Persona"===t.tableView.filterType?(e='<div class="filter__item d-flex--between mb-2">\n  <div class="flex-1">\n    <input type="text" class="filter__item__input" name="Location" placeholder="Enter lat/long/radius">\n    <input type="text" class="filter__item__input" name="IP" placeholder="Enter ip address">\n    <input type="text" class="filter__item__input" name="Device" placeholder="Enter device make/model">\n    <input type="text" class="filter__item__input" name="Country" placeholder="Enter country">\n    <input type="text" class="filter__item__input" name="City" placeholder="Enter city">\n    <input type="text" class="filter__item__input" name="Language" placeholder="Enter language">\n  </div>\n\n  <a class="close-item">\n    <svg class="sprite-icon" role="img" aria-hidden="true">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite-inline.svg#close"></use>\n    </svg>\n  </a>\n</div>',$("#filter_persona").append(e)):"Network"===t.tableView.filterType&&(e='<div class="filter__item d-flex--between mb-2">\n  <div class="flex-1">\n    <input type="text" class="filter__item__input" name="ID" placeholder="Enter VK ID">\n  </div>\n\n  <a class="close-item">\n    <svg class="sprite-icon" role="img" aria-hidden="true">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite-inline.svg#close"></use>\n    </svg>\n  </a>\n</div>',$("#filter_network").append(e)),t.removeFilter()})},removeFilter:function(){$(".filter__item .close-item").on("click",function(){$(this).closest(".filter__item").remove()})},toggleEditProfile:function(){$(".edit-option > .btn--cancel").on("click",function(){$(this).toggleClass("active")}),$(".edit-option__popup .btn").on("click",function(){$(this).closest(".edit-option").find(".btn--cancel").removeClass("active")})},initMapView:function(){this.toggleSidebarContent()},toggleSidebarContent:function(){$(".sidebar__menu__item").on("click",function(){$(".sidebar__menu__item").removeClass("active"),$(this).addClass("active"),$(".sidebar__content").addClass("d-none"),$(".sidebar__content--"+$(this).attr("id")).removeClass("d-none")})}};$(function(){app.init()});
//# sourceMappingURL=app.min.js.map
