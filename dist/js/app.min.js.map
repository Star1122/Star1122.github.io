{"version":3,"sources":["app.js"],"names":["app","tableView","tableItems","selectedTableItems","page","count","filterType","initTableView","this","initSearch","initTables","initSubmitForm","clearSearchAll","clearSearch","$","on","remove","closest","tableItemGenerator","pageNavigation","clearSelectedItem","changePageCount","i","push","name","type","idNum","created","moment","format","html","length","updateTableItems","start","end","Math","min","checked","findIndex","item","dNone","append","updateNavStatus","tableItemSelect","self","id","parseInt","attr","substr","index","splice","updateSelectedSection","ceil","addClass","removeClass","document","addEventListener","e","clsName","target","className","indexOf","toggleSubmitForm","changeTab","changeFilterType","clearFilters","updateFilter","toggleEditProfile","toggleClass","wrapperId","toLowerCase","items","val","addFilter","removeFilter","find","mapView","initMapView","toggleSidebarContent","togglePopups","toggleMarker","changeFilterValues","forEach","$filterItem","next","prev","init","initMap","loc","lat","lng","map","google","maps","Map","getElementById","center","zoom","mapTypeControl","mapTypeControlOptions","style","MapTypeControlStyle","HORIZONTAL_BAR","position","ControlPosition","LEFT_BOTTOM","zoomControl","zoomControlOptions","RIGHT_BOTTOM","scaleControl","streetViewControl","streetViewControlOptions","fullscreenControl","fullscreenControlOptions","styles","elementType","stylers","color","visibility","featureType","iconBase","icons","parking","icon","library","info","LatLng","feature","Marker","addListener"],"mappings":"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","file":"app.min.js","sourcesContent":["/* =================================================================== */\r\n/* ---------------------------- Functions ---------------------------- */\r\n/* =================================================================== */\r\n\r\nvar app = {\r\n  tableView: {\r\n    tableItems: [],\r\n    selectedTableItems: [],\r\n    page: 1,\r\n    count: 10,\r\n    filterType: 'Location',\r\n\r\n    /**\r\n     * Initialize table view\r\n     */\r\n    initTableView: function () {\r\n      this.initSearch();\r\n      this.initTables();\r\n      this.initSubmitForm();\r\n    },\r\n\r\n    /**\r\n     * Initialize search form\r\n     */\r\n    initSearch: function () {\r\n      this.clearSearchAll();\r\n      this.clearSearch();\r\n    },\r\n\r\n    /**\r\n     * Remove all item for search\r\n     */\r\n    clearSearchAll: function () {\r\n      $('#clear_search').on('click', function () {\r\n        $('.search__wrapper .search__item').remove();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Remove search item\r\n     */\r\n    clearSearch: function () {\r\n      $('.search__item .close-item').on('click', function () {\r\n        $(this).closest('.search__item').remove();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Initialize the tables\r\n     */\r\n    initTables: function () {\r\n      this.tableItemGenerator();\r\n      this.pageNavigation();\r\n      this.clearSelectedItem();\r\n      this.changePageCount();\r\n    },\r\n\r\n    /**\r\n     * Placeholder table item generator\r\n     * Need to replace with API request\r\n     */\r\n    tableItemGenerator: function () {\r\n      // Generate table items\r\n      for (var i = 0; i < 35; i++) {\r\n        this.tableItems.push({\r\n          name: 'Profile ' + (i + 1),\r\n          type: 'Location',\r\n          idNum: (i + 1),\r\n          created: moment().format('DD/MM/YYYY H:mm A')\r\n        });\r\n      }\r\n\r\n      // Update total number of items\r\n      $('#total').html(this.tableItems.length);\r\n\r\n      this.updateTableItems();\r\n    },\r\n\r\n    /**\r\n     * Update table items\r\n     */\r\n    updateTableItems: function () {\r\n      $('.table .table__item').remove();\r\n\r\n      // Count start and end item index\r\n      var start = this.count * (this.page - 1);\r\n      var end = Math.min(this.tableItems.length, this.count * this.page);\r\n\r\n      for (var i = start; i < end; i++) {\r\n        var index = this.selectedTableItems.findIndex(function (item) {\r\n          return item === i;\r\n        });\r\n        var checked = (index > -1) ? ' checked' : '';\r\n        var dNone = (this.selectedTableItems.length > 0) ? ' d-none' : '';\r\n\r\n        var item = '<div class=\"table__item d-flex--between\">\\n' +\r\n          '  <div class=\"flex-1\">\\n' +\r\n          '    <input type=\"checkbox\" id=\"item' + i + '\" class=\"css-checkbox\"' + checked + '/>\\n' +\r\n          '    <label for=\"item' + i + '\" class=\"css-label\"></label>\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"flex-2\">' + this.tableItems[i].name + '</div>\\n' +\r\n          '  <div class=\"flex-2\">' + this.tableItems[i].type + '</div>\\n' +\r\n          '  <div class=\"flex-3\">' + this.tableItems[i].idNum + '</div>\\n' +\r\n          '  <div class=\"flex-4\">' + this.tableItems[i].created + '</div>\\n' +\r\n          '  <div class=\"flex-4 d-flex--end\">\\n' +\r\n          '    <button class=\"btn table__item__action view' + dNone + '\">View</button>\\n' +\r\n          '    <button class=\"btn table__item__action edit' + dNone + '\">Edit</button>\\n' +\r\n          '    <button class=\"btn table__item__action delete' + dNone + '\" disabled>Delete</button>\\n' +\r\n          '  </div>\\n' +\r\n          '</div>';\r\n        $('.table').append(item);\r\n      }\r\n\r\n      this.updateNavStatus();\r\n      this.tableItemSelect();\r\n    },\r\n\r\n    /**\r\n     * Interaction with table item\r\n     */\r\n    tableItemSelect: function () {\r\n      var self = this;\r\n\r\n      $('.table__item .css-checkbox').on('change', function () {\r\n        var id = parseInt($(this).attr('id').substr(4));\r\n\r\n        // Update selectedTableItems\r\n        if (this.checked) {\r\n          self.selectedTableItems.push(id);\r\n        } else {\r\n          var index = self.selectedTableItems.findIndex(function (item) {\r\n            return item === id;\r\n          });\r\n          if (index > -1) {\r\n            self.selectedTableItems.splice(index, 1);\r\n          }\r\n        }\r\n\r\n        self.updateSelectedSection();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Table page navigation\r\n     */\r\n    pageNavigation: function () {\r\n      var self = this;\r\n\r\n      $('.page-nav').on('click', function () {\r\n        if ($(this).attr('id') === 'prev') {\r\n          if (self.page > 1) {\r\n            // Go to previous page\r\n            self.page -= 1;\r\n          }\r\n        } else {\r\n          if (self.page < Math.ceil(self.tableItems.length / self.count)) {\r\n            // Go to next page\r\n            self.page += 1;\r\n          }\r\n        }\r\n\r\n        self.updateTableItems();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Update page navigation status\r\n     */\r\n    updateNavStatus: function () {\r\n      // Update prev/next button status\r\n      if (this.page === 1) {\r\n        $('#prev').addClass('disabled');\r\n      } else {\r\n        $('#prev').removeClass('disabled');\r\n      }\r\n      if (this.page === Math.ceil(this.tableItems.length / this.count)) {\r\n        $('#next').addClass('disabled');\r\n      } else {\r\n        $('#next').removeClass('disabled');\r\n      }\r\n\r\n      // Update count of items in page\r\n      $('#count').html(Math.min(this.tableItems.length, this.count * this.page) - this.count * (this.page - 1));\r\n    },\r\n\r\n    /**\r\n     * Clear selected table items\r\n     */\r\n    clearSelectedItem: function () {\r\n      var self = this;\r\n\r\n      $('#clear_selection').on('click', function () {\r\n        self.selectedTableItems = [];\r\n\r\n        self.updateTableItems();\r\n        self.updateSelectedSection();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Show/hide selected/search sections and submit/filter buttons\r\n     */\r\n    updateSelectedSection: function () {\r\n      var count = this.selectedTableItems.length;\r\n      if (count > 0) {\r\n        $('.section__selected h2').html(count + ' Selected');\r\n        $('.section__search').addClass('d-none');\r\n        $('.section__selected').removeClass('d-none');\r\n        $('.table__item__action').addClass('d-none');\r\n        $('#submit_form').addClass('d-none');\r\n        $('#filter_profiles').removeClass('d-none');\r\n      } else {\r\n        $('.section__search').removeClass('d-none');\r\n        $('.section__selected').addClass('d-none');\r\n        $('.table__item__action').removeClass('d-none');\r\n        $('#submit_form').removeClass('d-none');\r\n        $('#filter_profiles').addClass('d-none');\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Change page count\r\n     */\r\n    changePageCount: function () {\r\n      var self = this;\r\n\r\n      // Show count list\r\n      $('.page-size__current').on('click', function () {\r\n        $(this).addClass('active');\r\n      });\r\n\r\n      // Update page count\r\n      $('.page-size__list__item').on('click', function () {\r\n        var count = parseInt($(this).html());\r\n        $('#current').html(count);\r\n        self.count = count;\r\n        self.page = 1;\r\n\r\n        self.updateTableItems();\r\n\r\n        $('.page-size__current').removeClass('active');\r\n      });\r\n\r\n      // Hide count list\r\n      document.addEventListener(\"mousedown\", function (e) {\r\n        var clsName = e.target.className;\r\n        if (!clsName || typeof clsName !== 'string' || clsName.indexOf('page-size') === -1) {\r\n          $('.page-size__current').removeClass('active');\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Initialize filter form\r\n     */\r\n    initSubmitForm: function () {\r\n      this.toggleSubmitForm();\r\n      this.changeTab();\r\n      this.changeFilterType();\r\n      this.clearFilters();\r\n      this.updateFilter();\r\n      this.toggleEditProfile();\r\n    },\r\n\r\n    /**\r\n     * Show/hide filter form\r\n     */\r\n    toggleSubmitForm: function () {\r\n      var self = this;\r\n\r\n      $('#submit_form, #show_profiles, #close_filter').on('click', function () {\r\n        $('#submit_form').toggleClass('active');\r\n        $('.modal--submit').toggleClass('d-none');\r\n\r\n        if ($(this).attr('id') === 'show_profiles') {\r\n          // Clear current searches\r\n          $('.search__wrapper .search__item').remove();\r\n\r\n          // Get filters\r\n          var wrapperId = 'filter_' + self.filterType.toLowerCase();\r\n          var items = $('#' + wrapperId + ' .filter__item__input');\r\n          for (var i = 0; i < items.length; i++) {\r\n            if ($(items[i]).val()) {\r\n              var item = '<div class=\"search__item\">\\n' +\r\n                '  <span>' + $(items[i]).attr('name') + ': ' + $(items[i]).val() + '</span>\\n' +\r\n                '  <a class=\"close-item\">\\n' +\r\n                '    <svg class=\"sprite-icon\" role=\"img\" aria-hidden=\"true\">\\n' +\r\n                '      <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"img/sprite-inline.svg#close\"></use>\\n' +\r\n                '    </svg>\\n' +\r\n                '  </a>\\n' +\r\n                '</div>';\r\n              $('.search__wrapper').append(item);\r\n            }\r\n          }\r\n\r\n          self.clearSearch();\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Change tab in submit form\r\n     */\r\n    changeTab: function () {\r\n      $('.tab__list__item').on('click', function () {\r\n        $('.tab__list__item').removeClass('active');\r\n        $(this).addClass('active');\r\n\r\n        $('.section__new-form').addClass('d-none');\r\n        $('.section__prev-forms').addClass('d-none');\r\n        $('.section__' + $(this).attr('id')).removeClass('d-none');\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Change filter type\r\n     */\r\n    changeFilterType: function () {\r\n      var self = this;\r\n\r\n      $('.option__list__item').on('click', function () {\r\n        // Update filter type button\r\n        $('.option__list__item').removeClass('active');\r\n        $(this).addClass('active');\r\n\r\n        // Update filter type title\r\n        self.filterType = $(this).html();\r\n        $('#filter_type').html(self.filterType);\r\n\r\n        // Show/hide filter list\r\n        $('.filter__list--sub').addClass('d-none');\r\n        $('#filter_' + self.filterType.toLowerCase()).removeClass('d-none');\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Clear all filters\r\n     */\r\n    clearFilters: function () {\r\n      $('#clear_option').on('click', function () {\r\n        $('.filter__item').remove();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Update filters\r\n     */\r\n    updateFilter: function () {\r\n      this.addFilter();\r\n      this.removeFilter();\r\n    },\r\n\r\n    /**\r\n     * Add filter\r\n     */\r\n    addFilter: function () {\r\n      var self = this;\r\n\r\n      $('#add_filter').on('click', function () {\r\n        var item;\r\n        if (self.filterType === 'Location') {\r\n          item = '<div class=\"filter__item d-flex--between mb-2\">\\n' +\r\n            '  <div class=\"flex-1\">\\n' +\r\n            '    <input type=\"text\" class=\"filter__item__input\" name=\"Location\" placeholder=\"Enter lat/long/radius\">\\n' +\r\n            '  </div>\\n' +\r\n            '\\n' +\r\n            '  <a class=\"close-item\">\\n' +\r\n            '    <svg class=\"sprite-icon\" role=\"img\" aria-hidden=\"true\">\\n' +\r\n            '      <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"img/sprite-inline.svg#close\"></use>\\n' +\r\n            '    </svg>\\n' +\r\n            '  </a>\\n' +\r\n            '</div>';\r\n          $('#filter_location').append(item);\r\n        } else if (self.filterType === 'Persona') {\r\n          item = '<div class=\"filter__item d-flex--between mb-2\">\\n' +\r\n            '  <div class=\"flex-1\">\\n' +\r\n            '    <input type=\"text\" class=\"filter__item__input\" name=\"Location\" placeholder=\"Enter lat/long/radius\">\\n' +\r\n            '    <input type=\"text\" class=\"filter__item__input\" name=\"IP\" placeholder=\"Enter ip address\">\\n' +\r\n            '    <input type=\"text\" class=\"filter__item__input\" name=\"Device\" placeholder=\"Enter device make/model\">\\n' +\r\n            '    <input type=\"text\" class=\"filter__item__input\" name=\"Country\" placeholder=\"Enter country\">\\n' +\r\n            '    <input type=\"text\" class=\"filter__item__input\" name=\"City\" placeholder=\"Enter city\">\\n' +\r\n            '    <input type=\"text\" class=\"filter__item__input\" name=\"Language\" placeholder=\"Enter language\">\\n' +\r\n            '  </div>\\n' +\r\n            '\\n' +\r\n            '  <a class=\"close-item\">\\n' +\r\n            '    <svg class=\"sprite-icon\" role=\"img\" aria-hidden=\"true\">\\n' +\r\n            '      <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"img/sprite-inline.svg#close\"></use>\\n' +\r\n            '    </svg>\\n' +\r\n            '  </a>\\n' +\r\n            '</div>';\r\n          $('#filter_persona').append(item);\r\n        } else if (self.filterType === 'Network') {\r\n          item = '<div class=\"filter__item d-flex--between mb-2\">\\n' +\r\n            '  <div class=\"flex-1\">\\n' +\r\n            '    <input type=\"text\" class=\"filter__item__input\" name=\"ID\" placeholder=\"Enter VK ID\">\\n' +\r\n            '  </div>\\n' +\r\n            '\\n' +\r\n            '  <a class=\"close-item\">\\n' +\r\n            '    <svg class=\"sprite-icon\" role=\"img\" aria-hidden=\"true\">\\n' +\r\n            '      <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"img/sprite-inline.svg#close\"></use>\\n' +\r\n            '    </svg>\\n' +\r\n            '  </a>\\n' +\r\n            '</div>';\r\n          $('#filter_network').append(item);\r\n        }\r\n\r\n        self.removeFilter();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Remove each filter\r\n     */\r\n    removeFilter: function () {\r\n      $('.filter__item .close-item').on('click', function () {\r\n        $(this).closest('.filter__item').remove();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Show/hide edit option\r\n     */\r\n    toggleEditProfile: function () {\r\n      $('.edit-option > .btn--cancel').on('click', function () {\r\n        $(this).toggleClass('active');\r\n      });\r\n\r\n      $('.edit-option__popup .btn').on('click', function () {\r\n        $(this).closest('.edit-option').find('.btn--cancel').removeClass('active');\r\n      });\r\n    },\r\n  },\r\n\r\n  mapView: {\r\n    /**\r\n     * Initialize map view\r\n     */\r\n    initMapView: function () {\r\n      this.toggleSidebarContent();\r\n      this.togglePopups();\r\n      this.toggleMarker();\r\n      this.changeFilterValues();\r\n    },\r\n\r\n    /**\r\n     * Show/hide sidebar content\r\n     */\r\n    toggleSidebarContent: function () {\r\n      $('.sidebar__menu__item').on('click', function () {\r\n        // Change status of menu\r\n        $('.sidebar__menu__item').removeClass('active');\r\n        $(this).addClass('active');\r\n\r\n        // Show/hide correspond sidebar content\r\n        $('.sidebar__content').addClass('d-none');\r\n        $('.sidebar__content--' + $(this).attr('id')).removeClass('d-none');\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Toggle popups on map view\r\n     */\r\n    togglePopups: function () {\r\n      // Export popup\r\n      $('#export').on('click', function () {\r\n        $(this).toggleClass('active');\r\n        $('#popup-export').toggleClass('d-none');\r\n      });\r\n\r\n      // Highlight, Show, Filter modal\r\n      ['highlight', 'show', 'filter']\r\n        .forEach(function (item) {\r\n          $('#' + item + ', #apply_' + item + ', #close_' + item).on('click', function () {\r\n            $('#' + item).toggleClass('active');\r\n            $('#modal_' + item).toggleClass('d-none');\r\n          });\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Hide map marker details\r\n     */\r\n    toggleMarker: function () {\r\n      $('.close-marker').on('click', function () {\r\n        $(this).closest('.popup--marker').addClass('d-none');\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Plus/Minus filter values\r\n     */\r\n    changeFilterValues: function () {\r\n      $('.calc--minus').on('click', function () {\r\n        var $filterItem = $(this).next();\r\n        $filterItem.val(parseInt($filterItem.val()) - 1);\r\n      });\r\n\r\n      $('.calc--plus').on('click', function () {\r\n        var $filterItem = $(this).prev();\r\n        $filterItem.val(parseInt($filterItem.val()) + 1);\r\n      });\r\n    },\r\n  },\r\n\r\n  /**\r\n   * Initialize function\r\n   */\r\n  init: function () {\r\n    if ($('#map').length > 0) {\r\n      this.mapView.initMapView();\r\n    } else {\r\n      this.tableView.initTableView();\r\n    }\r\n  },\r\n};\r\n\r\n$(function () {\r\n  app.init();\r\n});\r\n\r\nfunction initMap() {\r\n  var loc = { lat: 40.674, lng: -73.945 };\r\n  var map = new google.maps.Map(document.getElementById('map'), {\r\n    center: loc,\r\n    zoom: 12,\r\n    mapTypeControl: true,\r\n    mapTypeControlOptions: {\r\n      style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,\r\n      position: google.maps.ControlPosition.LEFT_BOTTOM\r\n    },\r\n    zoomControl: true,\r\n    zoomControlOptions: {\r\n      position: google.maps.ControlPosition.RIGHT_BOTTOM\r\n    },\r\n    scaleControl: true,\r\n    streetViewControl: true,\r\n    streetViewControlOptions: {\r\n      position: google.maps.ControlPosition.RIGHT_BOTTOM\r\n    },\r\n    fullscreenControl: false,\r\n    fullscreenControlOptions: {\r\n      position: google.maps.ControlPosition.LEFT_BOTTOM\r\n    },\r\n    styles: [\r\n      {\r\n        \"elementType\": \"geometry\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#f5f5f5\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"elementType\": \"labels.icon\",\r\n        \"stylers\": [\r\n          {\r\n            \"visibility\": \"off\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#616161\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"elementType\": \"labels.text.stroke\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#f5f5f5\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"administrative.land_parcel\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#bdbdbd\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"poi\",\r\n        \"elementType\": \"geometry\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#eeeeee\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"poi\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#757575\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"poi.park\",\r\n        \"elementType\": \"geometry\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#e5e5e5\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"poi.park\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#9e9e9e\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"road\",\r\n        \"elementType\": \"geometry\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#ffffff\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"road.arterial\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#757575\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"road.highway\",\r\n        \"elementType\": \"geometry\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#dadada\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"road.highway\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#616161\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"road.local\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#9e9e9e\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"transit.line\",\r\n        \"elementType\": \"geometry\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#e5e5e5\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"transit.station\",\r\n        \"elementType\": \"geometry\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#eeeeee\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"water\",\r\n        \"elementType\": \"geometry\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#c9c9c9\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"water\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#d8dee2\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"featureType\": \"water\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n          {\r\n            \"color\": \"#9e9e9e\"\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  });\r\n\r\n  var iconBase = 'https://maps.google.com/mapfiles/kml/shapes/';\r\n  var icons = {\r\n    parking: {\r\n      icon: iconBase + 'parking_lot_maps.png'\r\n    },\r\n    library: {\r\n      icon: iconBase + 'library_maps.png'\r\n    },\r\n    info: {\r\n      icon: iconBase + 'info-i_maps.png'\r\n    }\r\n  };\r\n\r\n  var features = [\r\n    {\r\n      position: new google.maps.LatLng(loc.lat - 0.03, loc.lng - 0.03),\r\n      type: 'info'\r\n    }, {\r\n      position: new google.maps.LatLng(loc.lat + 0.03, loc.lng - 0.03),\r\n      type: 'parking'\r\n    }, {\r\n      position: new google.maps.LatLng(loc.lat - 0.03, loc.lng + 0.03),\r\n      type: 'library'\r\n    }, {\r\n      position: new google.maps.LatLng(loc.lat + 0.03, loc.lng + 0.03),\r\n      type: 'info'\r\n    }\r\n  ];\r\n\r\n  // Create markers\r\n  features.forEach(function(feature) {\r\n    var marker = new google.maps.Marker({\r\n      position: feature.position,\r\n      icon: icons[feature.type].icon,\r\n      map: map\r\n    });\r\n\r\n    marker.addListener('click', function() {\r\n      // ToDo: propagate the content\r\n      $('.popup--marker').removeClass('d-none');\r\n    });\r\n  });\r\n}"]}