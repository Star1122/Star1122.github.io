{"version":3,"sources":["app.js"],"names":["app","tableView","tableItems","selectedTableItems","page","count","filterType","mapView","init","$","length","this","initMapView","initTableView","initSearch","initTables","initSubmitForm","clearSearchAll","clearSearch","on","remove","closest","tableItemGenerator","pageNavigation","clearSelectedItem","changePageCount","i","push","name","type","idNum","created","moment","format","html","updateTableItems","start","end","Math","min","checked","findIndex","item","dNone","append","updateNavStatus","tableItemSelect","self","id","parseInt","attr","substr","index","splice","updateSelectedSection","ceil","addClass","removeClass","document","addEventListener","e","clsName","target","className","indexOf","toggleSubmitForm","changeTab","changeFilterType","clearFilters","updateFilter","toggleEditProfile","toggleClass","wrapperId","toLowerCase","items","val","addFilter","removeFilter","find","toggleSidebarContent"],"mappings":"AAIA,IAAIA,IAAM,CACRC,UAAW,CACTC,WAAY,GACZC,mBAAoB,GACpBC,KAAM,EACNC,MAAO,GACPC,WAAY,YAGdC,QAAS,GAOTC,KAAM,WACmB,EAAnBC,EAAE,QAAQC,OACZC,KAAKC,cAELD,KAAKE,iBAOTA,cAAe,WACbF,KAAKG,aACLH,KAAKI,aACLJ,KAAKK,kBAMPF,WAAY,WACVH,KAAKM,iBACLN,KAAKO,eAMPD,eAAgB,WACdR,EAAE,iBAAiBU,GAAG,QAAS,WAC7BV,EAAE,kCAAkCW,YAOxCF,YAAa,WACXT,EAAE,6BAA6BU,GAAG,QAAS,WACzCV,EAAEE,MAAMU,QAAQ,iBAAiBD,YAOrCL,WAAY,WACVJ,KAAKW,qBACLX,KAAKY,iBACLZ,KAAKa,oBACLb,KAAKc,mBAOPH,mBAAoB,WAElB,IAAK,IAAII,EAAI,EAAGA,EAAI,GAAIA,IACtBf,KAAKV,UAAUC,WAAWyB,KAAK,CAC7BC,KAAM,YAAcF,EAAI,GACxBG,KAAM,WACNC,MAAQJ,EAAI,EACZK,QAASC,SAASC,OAAO,uBAK7BxB,EAAE,UAAUyB,KAAKvB,KAAKV,UAAUC,WAAWQ,QAE3CC,KAAKwB,oBAMPA,iBAAkB,WAChB1B,EAAE,uBAAuBW,SAMzB,IAHA,IAAIgB,EAAQzB,KAAKV,UAAUI,OAASM,KAAKV,UAAUG,KAAO,GACtDiC,EAAMC,KAAKC,IAAI5B,KAAKV,UAAUC,WAAWQ,OAAQC,KAAKV,UAAUI,MAAQM,KAAKV,UAAUG,MAElFsB,EAAIU,EAAOV,EAAIW,EAAKX,IAAK,CAChC,IAGIc,GAAoB,EAHZ7B,KAAKV,UAAUE,mBAAmBsC,UAAU,SAAUC,GAChE,OAAOA,IAAShB,IAEW,WAAa,GACtCiB,EAAoD,EAA3ChC,KAAKV,UAAUE,mBAAmBO,OAAc,UAAY,GAErEgC,EAAO,yGAE+BhB,EAAI,yBAA2Bc,EAAU,2BACxDd,EAAI,iEAEFf,KAAKV,UAAUC,WAAWwB,GAAGE,KAAO,iCACpCjB,KAAKV,UAAUC,WAAWwB,GAAGG,KAAO,iCACpClB,KAAKV,UAAUC,WAAWwB,GAAGI,MAAQ,iCACrCnB,KAAKV,UAAUC,WAAWwB,GAAGK,QAAU,8FAEdY,EAAQ,mEACRA,EAAQ,qEACNA,EAAQ,+CAGhElC,EAAE,UAAUmC,OAAOF,GAGrB/B,KAAKkC,kBACLlC,KAAKmC,mBAMPA,gBAAiB,WACf,IAAIC,EAAOpC,KAEXF,EAAE,8BAA8BU,GAAG,SAAU,WAC3C,IAAI6B,EAAKC,SAASxC,EAAEE,MAAMuC,KAAK,MAAMC,OAAO,IAG5C,GAAIxC,KAAK6B,QACPO,EAAK9C,UAAUE,mBAAmBwB,KAAKqB,OAClC,CACL,IAAII,EAAQL,EAAK9C,UAAUE,mBAAmBsC,UAAU,SAAUC,GAChE,OAAOA,IAASM,KAEL,EAATI,GACFL,EAAK9C,UAAUE,mBAAmBkD,OAAOD,EAAO,GAIpDL,EAAKO,2BAOT/B,eAAgB,WACd,IAAIwB,EAAOpC,KAEXF,EAAE,aAAaU,GAAG,QAAS,WACE,SAAvBV,EAAEE,MAAMuC,KAAK,MACW,EAAtBH,EAAK9C,UAAUG,OAEjB2C,EAAK9C,UAAUG,MAAQ,GAGrB2C,EAAK9C,UAAUG,KAAOkC,KAAKiB,KAAKR,EAAK9C,UAAUC,WAAWQ,OAASqC,EAAK9C,UAAUI,SAEpF0C,EAAK9C,UAAUG,MAAQ,GAI3B2C,EAAKZ,sBAOTU,gBAAiB,WAEa,IAAxBlC,KAAKV,UAAUG,KACjBK,EAAE,SAAS+C,SAAS,YAEpB/C,EAAE,SAASgD,YAAY,YAErB9C,KAAKV,UAAUG,OAASkC,KAAKiB,KAAK5C,KAAKV,UAAUC,WAAWQ,OAASC,KAAKV,UAAUI,OACtFI,EAAE,SAAS+C,SAAS,YAEpB/C,EAAE,SAASgD,YAAY,YAIzBhD,EAAE,UAAUyB,KAAKI,KAAKC,IAAI5B,KAAKV,UAAUC,WAAWQ,OAAQC,KAAKV,UAAUI,MAAQM,KAAKV,UAAUG,MAAQO,KAAKV,UAAUI,OAASM,KAAKV,UAAUG,KAAO,KAM1JoB,kBAAmB,WACjB,IAAIuB,EAAOpC,KAEXF,EAAE,oBAAoBU,GAAG,QAAS,WAChC4B,EAAK9C,UAAUE,mBAAqB,GAEpC4C,EAAKZ,mBACLY,EAAKO,2BAOTA,sBAAuB,WACrB,IAAIjD,EAAQM,KAAKV,UAAUE,mBAAmBO,OAClC,EAARL,GACFI,EAAE,yBAAyByB,KAAK7B,EAAQ,aACxCI,EAAE,oBAAoB+C,SAAS,UAC/B/C,EAAE,sBAAsBgD,YAAY,UACpChD,EAAE,wBAAwB+C,SAAS,UACnC/C,EAAE,gBAAgB+C,SAAS,UAC3B/C,EAAE,oBAAoBgD,YAAY,YAElChD,EAAE,oBAAoBgD,YAAY,UAClChD,EAAE,sBAAsB+C,SAAS,UACjC/C,EAAE,wBAAwBgD,YAAY,UACtChD,EAAE,gBAAgBgD,YAAY,UAC9BhD,EAAE,oBAAoB+C,SAAS,YAOnC/B,gBAAiB,WACf,IAAIsB,EAAOpC,KAGXF,EAAE,uBAAuBU,GAAG,QAAS,WACnCV,EAAEE,MAAM6C,SAAS,YAInB/C,EAAE,0BAA0BU,GAAG,QAAS,WACtC,IAAId,EAAQ4C,SAASxC,EAAEE,MAAMuB,QAC7BzB,EAAE,YAAYyB,KAAK7B,GACnB0C,EAAK9C,UAAUI,MAAQA,EACvB0C,EAAK9C,UAAUG,KAAO,EAEtB2C,EAAKZ,mBAEL1B,EAAE,uBAAuBgD,YAAY,YAIvCC,SAASC,iBAAiB,YAAa,SAAUC,GAC/C,IAAIC,EAAUD,EAAEE,OAAOC,UAClBF,GAA8B,iBAAZA,IAA0D,IAAlCA,EAAQG,QAAQ,cAC7DvD,EAAE,uBAAuBgD,YAAY,aAQ3CzC,eAAgB,WACdL,KAAKsD,mBACLtD,KAAKuD,YACLvD,KAAKwD,mBACLxD,KAAKyD,eACLzD,KAAK0D,eACL1D,KAAK2D,qBAMPL,iBAAkB,WAChB,IAAIlB,EAAOpC,KAEXF,EAAE,gBAAgBU,GAAG,QAAS,WAC5BV,EAAEE,MAAM4D,YAAY,UACpB9D,EAAE,kBAAkB8D,YAAY,YAGlC9D,EAAE,kBAAkBU,GAAG,QAAS,WAE9BV,EAAE,kCAAkCW,SAKpC,IAFA,IAAIoD,EAAY,UAAYzB,EAAK9C,UAAUK,WAAWmE,cAClDC,EAAQjE,EAAE,IAAM+D,EAAY,yBACvB9C,EAAI,EAAGA,EAAIgD,EAAMhE,OAAQgB,IAChC,GAAIjB,EAAEiE,EAAMhD,IAAIiD,MAAO,CACrB,IAAIjC,EAAO,uCACIjC,EAAEiE,EAAMhD,IAAIwB,KAAK,QAAU,KAAOzC,EAAEiE,EAAMhD,IAAIiD,MAAQ,oOAOrElE,EAAE,oBAAoBmC,OAAOF,GAIjCK,EAAK7B,cAELT,EAAE,gBAAgBgD,YAAY,UAC9BhD,EAAE,kBAAkB+C,SAAS,YAG/B/C,EAAE,iBAAiBU,GAAG,QAAS,WAC7BV,EAAE,gBAAgBgD,YAAY,UAC9BhD,EAAE,kBAAkB+C,SAAS,aAOjCU,UAAW,WACTzD,EAAE,oBAAoBU,GAAG,QAAS,WAChCV,EAAE,oBAAoBgD,YAAY,UAClChD,EAAEE,MAAM6C,SAAS,UAEjB/C,EAAE,sBAAsB+C,SAAS,UACjC/C,EAAE,wBAAwB+C,SAAS,UACnC/C,EAAE,aAAeA,EAAEE,MAAMuC,KAAK,OAAOO,YAAY,aAOrDU,iBAAkB,WAChB,IAAIpB,EAAOpC,KAEXF,EAAE,uBAAuBU,GAAG,QAAS,WAEnCV,EAAE,uBAAuBgD,YAAY,UACrChD,EAAEE,MAAM6C,SAAS,UAGjBT,EAAK9C,UAAUK,WAAaG,EAAEE,MAAMuB,OACpCzB,EAAE,gBAAgByB,KAAKa,EAAK9C,UAAUK,YAGtCG,EAAE,sBAAsB+C,SAAS,UACjC/C,EAAE,WAAasC,EAAK9C,UAAUK,WAAWmE,eAAehB,YAAY,aAOxEW,aAAc,WACZ3D,EAAE,iBAAiBU,GAAG,QAAS,WAC7BV,EAAE,iBAAiBW,YAOvBiD,aAAc,WACZ1D,KAAKiE,YACLjE,KAAKkE,gBAMPD,UAAW,WACT,IAAI7B,EAAOpC,KAEXF,EAAE,eAAeU,GAAG,QAAS,WAC3B,IAAIuB,EAC8B,aAA9BK,EAAK9C,UAAUK,YACjBoC,EAAO,yZAWPjC,EAAE,oBAAoBmC,OAAOF,IACU,YAA9BK,EAAK9C,UAAUK,YACxBoC,EAAO,43BAgBPjC,EAAE,mBAAmBmC,OAAOF,IACW,YAA9BK,EAAK9C,UAAUK,aACxBoC,EAAO,yYAWPjC,EAAE,mBAAmBmC,OAAOF,IAG9BK,EAAK8B,kBAOTA,aAAc,WACZpE,EAAE,6BAA6BU,GAAG,QAAS,WACzCV,EAAEE,MAAMU,QAAQ,iBAAiBD,YAOrCkD,kBAAmB,WACjB7D,EAAE,+BAA+BU,GAAG,QAAS,WAC3CV,EAAEE,MAAM4D,YAAY,YAGtB9D,EAAE,4BAA4BU,GAAG,QAAS,WACxCV,EAAEE,MAAMU,QAAQ,gBAAgByD,KAAK,gBAAgBrB,YAAY,aAOrE7C,YAAa,WACXD,KAAKoE,wBAMPA,qBAAsB,WACpBtE,EAAE,wBAAwBU,GAAG,QAAS,WAEpCV,EAAE,wBAAwBgD,YAAY,UACtChD,EAAEE,MAAM6C,SAAS,UAGjB/C,EAAE,qBAAqB+C,SAAS,UAChC/C,EAAE,sBAAwBA,EAAEE,MAAMuC,KAAK,OAAOO,YAAY,cAKhEhD,EAAE,WACAT,IAAIQ","file":"app.min.js","sourcesContent":["/* =================================================================== */\r\n/* ---------------------------- Functions ---------------------------- */\r\n/* =================================================================== */\r\n\r\nvar app = {\r\n  tableView: {\r\n    tableItems: [],\r\n    selectedTableItems: [],\r\n    page: 1,\r\n    count: 10,\r\n    filterType: 'Location'\r\n  },\r\n\r\n  mapView: {\r\n\r\n  },\r\n\r\n  /**\r\n   * Initialize function\r\n   */\r\n  init: function () {\r\n    if ($('#map').length > 0) {\r\n      this.initMapView();\r\n    } else {\r\n      this.initTableView();\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Initialize table view\r\n   */\r\n  initTableView: function () {\r\n    this.initSearch();\r\n    this.initTables();\r\n    this.initSubmitForm();\r\n  },\r\n\r\n  /**\r\n   * Initialize search form\r\n   */\r\n  initSearch: function () {\r\n    this.clearSearchAll();\r\n    this.clearSearch();\r\n  },\r\n\r\n  /**\r\n   * Remove all item for search\r\n   */\r\n  clearSearchAll: function () {\r\n    $('#clear_search').on('click', function () {\r\n      $('.search__wrapper .search__item').remove();\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Remove search item\r\n   */\r\n  clearSearch: function () {\r\n    $('.search__item .close-item').on('click', function () {\r\n      $(this).closest('.search__item').remove();\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Initialize the tables\r\n   */\r\n  initTables: function () {\r\n    this.tableItemGenerator();\r\n    this.pageNavigation();\r\n    this.clearSelectedItem();\r\n    this.changePageCount();\r\n  },\r\n\r\n  /**\r\n   * Placeholder table item generator\r\n   * Need to replace with API request\r\n   */\r\n  tableItemGenerator: function () {\r\n    // Generate table items\r\n    for (var i = 0; i < 35; i++) {\r\n      this.tableView.tableItems.push({\r\n        name: 'Profile ' + (i + 1),\r\n        type: 'Location',\r\n        idNum: (i + 1),\r\n        created: moment().format('DD/MM/YYYY H:mm A')\r\n      });\r\n    }\r\n\r\n    // Update total number of items\r\n    $('#total').html(this.tableView.tableItems.length);\r\n\r\n    this.updateTableItems();\r\n  },\r\n\r\n  /**\r\n   * Update table items\r\n   */\r\n  updateTableItems: function () {\r\n    $('.table .table__item').remove();\r\n\r\n    // Count start and end item index\r\n    var start = this.tableView.count * (this.tableView.page - 1);\r\n    var end = Math.min(this.tableView.tableItems.length, this.tableView.count * this.tableView.page);\r\n\r\n    for (var i = start; i < end; i++) {\r\n      var index = this.tableView.selectedTableItems.findIndex(function (item) {\r\n        return item === i;\r\n      });\r\n      var checked = (index > -1) ? ' checked' : '';\r\n      var dNone = (this.tableView.selectedTableItems.length > 0) ? ' d-none' : '';\r\n\r\n      var item = '<div class=\"table__item d-flex--between\">\\n' +\r\n        '  <div class=\"flex-1\">\\n' +\r\n        '    <input type=\"checkbox\" id=\"item' + i + '\" class=\"css-checkbox\"' + checked + '/>\\n' +\r\n        '    <label for=\"item' + i + '\" class=\"css-label\"></label>\\n' +\r\n        '  </div>\\n' +\r\n        '  <div class=\"flex-2\">' + this.tableView.tableItems[i].name + '</div>\\n' +\r\n        '  <div class=\"flex-2\">' + this.tableView.tableItems[i].type + '</div>\\n' +\r\n        '  <div class=\"flex-3\">' + this.tableView.tableItems[i].idNum + '</div>\\n' +\r\n        '  <div class=\"flex-4\">' + this.tableView.tableItems[i].created + '</div>\\n' +\r\n        '  <div class=\"flex-4 d-flex--end\">\\n' +\r\n        '    <button class=\"btn table__item__action view' + dNone + '\">View</button>\\n' +\r\n        '    <button class=\"btn table__item__action edit' + dNone + '\">Edit</button>\\n' +\r\n        '    <button class=\"btn table__item__action delete' + dNone + '\" disabled>Delete</button>\\n' +\r\n        '  </div>\\n' +\r\n        '</div>';\r\n      $('.table').append(item);\r\n    }\r\n\r\n    this.updateNavStatus();\r\n    this.tableItemSelect();\r\n  },\r\n\r\n  /**\r\n   * Interaction with table item\r\n   */\r\n  tableItemSelect: function () {\r\n    var self = this;\r\n\r\n    $('.table__item .css-checkbox').on('change', function () {\r\n      var id = parseInt($(this).attr('id').substr(4));\r\n\r\n      // Update selectedTableItems\r\n      if (this.checked) {\r\n        self.tableView.selectedTableItems.push(id);\r\n      } else {\r\n        var index = self.tableView.selectedTableItems.findIndex(function (item) {\r\n          return item === id;\r\n        });\r\n        if (index > -1) {\r\n          self.tableView.selectedTableItems.splice(index, 1);\r\n        }\r\n      }\r\n\r\n      self.updateSelectedSection();\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Table page navigation\r\n   */\r\n  pageNavigation: function () {\r\n    var self = this;\r\n\r\n    $('.page-nav').on('click', function () {\r\n      if ($(this).attr('id') === 'prev') {\r\n        if (self.tableView.page > 1) {\r\n          // Go to previous page\r\n          self.tableView.page -= 1;\r\n        }\r\n      } else {\r\n        if (self.tableView.page < Math.ceil(self.tableView.tableItems.length / self.tableView.count)) {\r\n          // Go to next page\r\n          self.tableView.page += 1;\r\n        }\r\n      }\r\n\r\n      self.updateTableItems();\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Update page navigation status\r\n   */\r\n  updateNavStatus: function () {\r\n    // Update prev/next button status\r\n    if (this.tableView.page === 1) {\r\n      $('#prev').addClass('disabled');\r\n    } else {\r\n      $('#prev').removeClass('disabled');\r\n    }\r\n    if (this.tableView.page === Math.ceil(this.tableView.tableItems.length / this.tableView.count)) {\r\n      $('#next').addClass('disabled');\r\n    } else {\r\n      $('#next').removeClass('disabled');\r\n    }\r\n\r\n    // Update count of items in page\r\n    $('#count').html(Math.min(this.tableView.tableItems.length, this.tableView.count * this.tableView.page) - this.tableView.count * (this.tableView.page - 1));\r\n  },\r\n\r\n  /**\r\n   * Clear selected table items\r\n   */\r\n  clearSelectedItem: function () {\r\n    var self = this;\r\n\r\n    $('#clear_selection').on('click', function () {\r\n      self.tableView.selectedTableItems = [];\r\n\r\n      self.updateTableItems();\r\n      self.updateSelectedSection();\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Show/hide selected/search sections and submit/filter buttons\r\n   */\r\n  updateSelectedSection: function () {\r\n    var count = this.tableView.selectedTableItems.length;\r\n    if (count > 0) {\r\n      $('.section__selected h2').html(count + ' Selected');\r\n      $('.section__search').addClass('d-none');\r\n      $('.section__selected').removeClass('d-none');\r\n      $('.table__item__action').addClass('d-none');\r\n      $('#submit_form').addClass('d-none');\r\n      $('#filter_profiles').removeClass('d-none');\r\n    } else {\r\n      $('.section__search').removeClass('d-none');\r\n      $('.section__selected').addClass('d-none');\r\n      $('.table__item__action').removeClass('d-none');\r\n      $('#submit_form').removeClass('d-none');\r\n      $('#filter_profiles').addClass('d-none');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Change page count\r\n   */\r\n  changePageCount: function () {\r\n    var self = this;\r\n\r\n    // Show count list\r\n    $('.page-size__current').on('click', function () {\r\n      $(this).addClass('active');\r\n    });\r\n\r\n    // Update page count\r\n    $('.page-size__list__item').on('click', function () {\r\n      var count = parseInt($(this).html());\r\n      $('#current').html(count);\r\n      self.tableView.count = count;\r\n      self.tableView.page = 1;\r\n\r\n      self.updateTableItems();\r\n\r\n      $('.page-size__current').removeClass('active');\r\n    });\r\n\r\n    // Hide count list\r\n    document.addEventListener(\"mousedown\", function (e) {\r\n      var clsName = e.target.className;\r\n      if (!clsName || typeof clsName !== 'string' || clsName.indexOf('page-size') === -1) {\r\n        $('.page-size__current').removeClass('active');\r\n      }\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Initialize filter form\r\n   */\r\n  initSubmitForm: function () {\r\n    this.toggleSubmitForm();\r\n    this.changeTab();\r\n    this.changeFilterType();\r\n    this.clearFilters();\r\n    this.updateFilter();\r\n    this.toggleEditProfile();\r\n  },\r\n\r\n  /**\r\n   * Show/hide filter form\r\n   */\r\n  toggleSubmitForm: function () {\r\n    var self = this;\r\n\r\n    $('#submit_form').on('click', function () {\r\n      $(this).toggleClass('active');\r\n      $('.modal--submit').toggleClass('d-none');\r\n    });\r\n\r\n    $('#show_profiles').on('click', function () {\r\n      // Clear current searches\r\n      $('.search__wrapper .search__item').remove();\r\n\r\n      // Get filters\r\n      var wrapperId = 'filter_' + self.tableView.filterType.toLowerCase();\r\n      var items = $('#' + wrapperId + ' .filter__item__input');\r\n      for (var i = 0; i < items.length; i++) {\r\n        if ($(items[i]).val()) {\r\n          var item = '<div class=\"search__item\">\\n' +\r\n            '  <span>' + $(items[i]).attr('name') + ': ' + $(items[i]).val() + '</span>\\n' +\r\n            '  <a class=\"close-item\">\\n' +\r\n            '    <svg class=\"sprite-icon\" role=\"img\" aria-hidden=\"true\">\\n' +\r\n            '      <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"img/sprite-inline.svg#close\"></use>\\n' +\r\n            '    </svg>\\n' +\r\n            '  </a>\\n' +\r\n            '</div>';\r\n          $('.search__wrapper').append(item);\r\n        }\r\n      }\r\n\r\n      self.clearSearch();\r\n\r\n      $('#submit_form').removeClass('active');\r\n      $('.modal--submit').addClass('d-none');\r\n    });\r\n\r\n    $('#close_filter').on('click', function () {\r\n      $('#submit_form').removeClass('active');\r\n      $('.modal--submit').addClass('d-none');\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Change tab in submit form\r\n   */\r\n  changeTab: function () {\r\n    $('.tab__list__item').on('click', function () {\r\n      $('.tab__list__item').removeClass('active');\r\n      $(this).addClass('active');\r\n\r\n      $('.section__new-form').addClass('d-none');\r\n      $('.section__prev-forms').addClass('d-none');\r\n      $('.section__' + $(this).attr('id')).removeClass('d-none');\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Change filter type\r\n   */\r\n  changeFilterType: function () {\r\n    var self = this;\r\n\r\n    $('.option__list__item').on('click', function () {\r\n      // Update filter type button\r\n      $('.option__list__item').removeClass('active');\r\n      $(this).addClass('active');\r\n\r\n      // Update filter type title\r\n      self.tableView.filterType = $(this).html();\r\n      $('#filter_type').html(self.tableView.filterType);\r\n\r\n      // Show/hide filter list\r\n      $('.filter__list--sub').addClass('d-none');\r\n      $('#filter_' + self.tableView.filterType.toLowerCase()).removeClass('d-none');\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Clear all filters\r\n   */\r\n  clearFilters: function () {\r\n    $('#clear_option').on('click', function () {\r\n      $('.filter__item').remove();\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Update filters\r\n   */\r\n  updateFilter: function () {\r\n    this.addFilter();\r\n    this.removeFilter();\r\n  },\r\n\r\n  /**\r\n   * Add filter\r\n   */\r\n  addFilter: function () {\r\n    var self = this;\r\n\r\n    $('#add_filter').on('click', function () {\r\n      var item;\r\n      if (self.tableView.filterType === 'Location') {\r\n        item = '<div class=\"filter__item d-flex--between mb-2\">\\n' +\r\n          '  <div class=\"flex-1\">\\n' +\r\n          '    <input type=\"text\" class=\"filter__item__input\" name=\"Location\" placeholder=\"Enter lat/long/radius\">\\n' +\r\n          '  </div>\\n' +\r\n          '\\n' +\r\n          '  <a class=\"close-item\">\\n' +\r\n          '    <svg class=\"sprite-icon\" role=\"img\" aria-hidden=\"true\">\\n' +\r\n          '      <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"img/sprite-inline.svg#close\"></use>\\n' +\r\n          '    </svg>\\n' +\r\n          '  </a>\\n' +\r\n          '</div>';\r\n        $('#filter_location').append(item);\r\n      } else if (self.tableView.filterType === 'Persona') {\r\n        item = '<div class=\"filter__item d-flex--between mb-2\">\\n' +\r\n          '  <div class=\"flex-1\">\\n' +\r\n          '    <input type=\"text\" class=\"filter__item__input\" name=\"Location\" placeholder=\"Enter lat/long/radius\">\\n' +\r\n          '    <input type=\"text\" class=\"filter__item__input\" name=\"IP\" placeholder=\"Enter ip address\">\\n' +\r\n          '    <input type=\"text\" class=\"filter__item__input\" name=\"Device\" placeholder=\"Enter device make/model\">\\n' +\r\n          '    <input type=\"text\" class=\"filter__item__input\" name=\"Country\" placeholder=\"Enter country\">\\n' +\r\n          '    <input type=\"text\" class=\"filter__item__input\" name=\"City\" placeholder=\"Enter city\">\\n' +\r\n          '    <input type=\"text\" class=\"filter__item__input\" name=\"Language\" placeholder=\"Enter language\">\\n' +\r\n          '  </div>\\n' +\r\n          '\\n' +\r\n          '  <a class=\"close-item\">\\n' +\r\n          '    <svg class=\"sprite-icon\" role=\"img\" aria-hidden=\"true\">\\n' +\r\n          '      <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"img/sprite-inline.svg#close\"></use>\\n' +\r\n          '    </svg>\\n' +\r\n          '  </a>\\n' +\r\n          '</div>';\r\n        $('#filter_persona').append(item);\r\n      } else if (self.tableView.filterType === 'Network') {\r\n        item = '<div class=\"filter__item d-flex--between mb-2\">\\n' +\r\n          '  <div class=\"flex-1\">\\n' +\r\n          '    <input type=\"text\" class=\"filter__item__input\" name=\"ID\" placeholder=\"Enter VK ID\">\\n' +\r\n          '  </div>\\n' +\r\n          '\\n' +\r\n          '  <a class=\"close-item\">\\n' +\r\n          '    <svg class=\"sprite-icon\" role=\"img\" aria-hidden=\"true\">\\n' +\r\n          '      <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"img/sprite-inline.svg#close\"></use>\\n' +\r\n          '    </svg>\\n' +\r\n          '  </a>\\n' +\r\n          '</div>';\r\n        $('#filter_network').append(item);\r\n      }\r\n\r\n      self.removeFilter();\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Remove each filter\r\n   */\r\n  removeFilter: function () {\r\n    $('.filter__item .close-item').on('click', function () {\r\n      $(this).closest('.filter__item').remove();\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Show/hide edit option\r\n   */\r\n  toggleEditProfile: function () {\r\n    $('.edit-option > .btn--cancel').on('click', function () {\r\n      $(this).toggleClass('active');\r\n    });\r\n\r\n    $('.edit-option__popup .btn').on('click', function () {\r\n      $(this).closest('.edit-option').find('.btn--cancel').removeClass('active');\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Initialize map view\r\n   */\r\n  initMapView: function () {\r\n    this.toggleSidebarContent();\r\n  },\r\n\r\n  /**\r\n   * Show/hide sidebar content\r\n   */\r\n  toggleSidebarContent: function () {\r\n    $('.sidebar__menu__item').on('click', function () {\r\n      // Change status of menu\r\n      $('.sidebar__menu__item').removeClass('active');\r\n      $(this).addClass('active');\r\n\r\n      // Show/hide correspond sidebar content\r\n      $('.sidebar__content').addClass('d-none');\r\n      $('.sidebar__content--' + $(this).attr('id')).removeClass('d-none');\r\n    });\r\n  }\r\n};\r\n\r\n$(function () {\r\n  app.init();\r\n});"]}